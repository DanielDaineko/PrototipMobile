!function(n,e,s,o,r){"use strict";n.blazy=n.blazy||{init:null,loopRatio:!1,windowWidth:0,blazySettings:{},ioSettings:{},isForced:!1,revalidate:!1,options:{},globals:function(){var t=this,a={success:t.clearing.bind(t),error:t.clearing.bind(t),selector:".b-lazy",errorClass:"b-error",successClass:"b-loaded"};return s.extend(t.blazySettings,t.ioSettings,a)},clearing:function(t){var a=this,e=s.hasClass(t,"b-responsive")&&t.hasAttribute("data-pfsrc"),i=s.closest(t,".media"),n=[t,s.closest(t,".is-loading"),s.closest(t,'[class*="loading"]')];s.forEach(n,function(t){null!==t&&(t.className=t.className.replace(/(\S+)loading/,""))}),o.picturefill&&e&&o.picturefill({reevaluate:!0,elements:[t]}),a.updateContainer(t,i),a.isLoaded(t)&&(a.has(i,"data-animation")||a.has(t,"data-animation"))&&s.animate(a.has(i,"data-animation")?i:t),s.trigger(t,"blazy.done",{options:a.options})},isLoaded:function(t){return null!==t&&s.hasClass(t,this.options.successClass)},has:function(t,a){return null!==t&&t.hasAttribute(a)},updateContainer:function(t,a){var e=this;e.isLoaded(t)&&(s.equal(t.parentNode,"picture")&&e.has(a,"data-dimensions")&&e.updatePicture(t,a),e.has(t,"data-backgrounds")&&s.updateBg(t,e.options.mobileFirst))},updatePicture:function(t,a){a.style.paddingBottom=Math.round(t.naturalHeight/t.naturalWidth*100,2)+"%"},updateRatio:function(t){var a,e=this,i=s.parse(t.getAttribute("data-dimensions"))||"dimensions"in e.options&&e.options.dimensions;i?(a=null!==t.querySelector("picture"),"undefined"!==(i=s.activeWidth(i,a))&&(t.style.paddingBottom=i+"%"),(a||e.has(t,"data-backgrounds"))&&e.updateContainer(a?t.querySelector("img"):t,t)):e.updateFallbackRatio(t)},updateFallbackRatio:function(t){!t.hasAttribute("style")&&t.hasAttribute("data-ratio")&&(t.style.paddingBottom=t.getAttribute("data-ratio")+"%")},doNativeLazy:function(t){s.setAttrs(t,["srcset","src"],!0),s.setAttrsWithSources(t,!1,!0),s.addClass(t,this.options.successClass),this.clearing(t)},isNativeLazy:function(){return"loading"in HTMLImageElement.prototype},isIo:function(){return this.ioSettings&&this.ioSettings.enabled&&"IntersectionObserver"in o},isBlazy:function(){return!this.isIo()&&"Blazy"in o},forEach:function(t){var a=t.querySelector("[data-blazy]"),e=t.querySelectorAll(".blazy:not(.blazy--on)");0<e.length&&s.forEach(e,l,t),null===a&&i(t)},run:function(t){return new(this.isIo()?BioMedia:Blazy)(t)},afterInit:function(t){function a(){e.windowWidth=s.windowWidth(),0<i.length&&s.forEach(i,e.updateRatio.bind(e),t),e.isNativeLazy()||!e.isBlazy()&&!e.revalidate||e.init.revalidate(!0)}var e=this,i=null===t.querySelector(".media--ratio")?[]:t.querySelectorAll(".media--ratio");a(),o.addEventListener("resize",s.throttle(a,200,e),!1)}};var i=function(t,a){var e=n.blazy,i=t instanceof HTMLDocument?t:s.closest(t,"html");(a=a||{}).mobileFirst=a.mobileFirst||!1,r.documentElement.isSameNode(i)||(a.root=i),e.options=s.extend({},e.globals(),a),!e.isNativeLazy()&&!e.isForced||0<(a=t.querySelectorAll(e.options.selector+"[loading]:not(."+e.options.successClass+")")).length&&s.forEach(a,e.doNativeLazy.bind(e)),e.init=e.run(e.options),e.afterInit(t)};function l(t){var a=n.blazy,e=t.getAttribute("data-blazy"),e=e&&"1"!==e&&s.parse(e)||{};a.revalidate=a.revalidate||s.hasClass(t,"blazy--revalidate"),s.addClass(t,"blazy--on"),i(t,e)}n.behaviors.blazy={attach:function(t){t=s.context(t,".blazy");var a=n.blazy;a.blazySettings=e.blazy||{},a.ioSettings=e.blazyIo||{},s.once(a.forEach(t))}}}((jQuery,Drupal),Drupal.settings,dBlazy,this,this.document);
