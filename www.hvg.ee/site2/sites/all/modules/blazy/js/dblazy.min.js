!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.dBlazy=e()}(this,function(){"use strict";var n=document,i="body",r="html",o={};function a(t,e){return c(t)?s(e)?(e=function(t){var e=t;s(t)&&t.startsWith(">")&&(e=":scope "+t);return e}(e),t.matches&&t.matches(e)):c(e)&&t===e:t===e}function c(t){return t&&(t instanceof Element||t.querySelector)}function s(t){return t&&"string"==typeof t}return o.matches=function(t,e){var n=Element.prototype;return n.matches||(n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(t){for(var e=(window.document||window.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n}),!!t.matches(e)},o.pixelRatio=function(){return window.devicePixelRatio||1},o.windowWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||window.screen.width},o.activeWidth=function(e,n){var i=this,t=Object.keys(e),r=t[0],o=t[t.length-1],t=t.filter(function(t){var e=i.windowWidth()*i.pixelRatio();return n?t<=i.windowWidth():e<=t}).map(function(t){return e[t]})[n?"pop":"shift"]();return"undefined"===t?e[i.windowWidth()>=o?o:r]:t},o.equal=function(t,e){return null!==t&&t.nodeName.toLowerCase()===e},o.closest=function(t,e){for(;t&&!(t instanceof HTMLDocument);t=t.parentNode)if(o.matches(t,e))return t;return null},o.extend=Object.assign||function(t){t=t||{};for(var e=1,n=arguments.length;e<n;e++)if(arguments[e])for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t},o.forEach=function(t,e,n){var i=Object.prototype;if("[object Object]"===i.toString.call(t))for(var r in t)i.hasOwnProperty.call(t,r)&&e.call(n,t[r],r,t);else if(t)for(var o=0,a=t.length;o<a;o++)e.call(n,t[o],o,t)},o.hasClass=function(t,e){return t.classList?t.classList.contains(e):-1!==t.className.indexOf(e)},o.addClass=function(t,e){t.classList?t.classList.add(e):o.hasClass(t,e)||(t.className+=" "+e)},o.setAttr=function(t,e,n){var i;t.hasAttribute("data-"+e)&&(i=t.getAttribute("data-"+e),"src"===e?t.src=i:t.setAttribute(e,i),n&&t.removeAttribute("data-"+e))},o.setAttrs=function(e,t,n){var i=this;i.forEach(t,function(t){i.setAttr(e,t,n)})},o.setAttrsWithSources=function(t,e,n){var i=this,r=t.parentNode||null,o=r&&i.equal(r,"picture"),t=(o?r:t).getElementsByTagName("source");e=e||(o?"srcset":"src"),t.length&&i.forEach(t,function(t){i.setAttr(t,e,n)})},o.updateBg=function(t,e){var n=this.parse(t.getAttribute("data-backgrounds"));!n||(e=this.activeWidth(n,e))&&"undefined"!==e&&(t.style.backgroundImage='url("'+e.src+'")',t.style.paddingBottom=e.ratio+"%")},o.removeAttrs=function(e,t){this.forEach(t,function(t){e.removeAttribute("data-"+t)})},o.on=function(t,e,n,i){t&&t.addEventListener(e,function(t){for(var e=t.target;e&&e!==this;)o.matches(e,n)&&i.call(e,t),e=e.parentNode})},o.once=function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(this,arguments),t=null),e}},o.parse=function(t){try{return JSON.parse(t)}catch(t){return!1}},o.animate=function(e){var n=this,i=e.dataset.animation,r=["animation","animation-duration","animation-delay","animation-iteration-count"];e.classList.add("animated",i),n.forEach(["Duration","Delay","IterationCount"],function(t){"animation"+t in e.dataset&&(e.style["animation"+t]=e.dataset["animation"+t])}),n.removeAttrs(e,r),e.addEventListener("animationend",function t(){e.classList.remove("animated",i),e.removeEventListener("animationend",t),n.forEach(r,function(t){e.style.removeProperty(t)})})},o.throttle=function(e,n,i){var r=0;return function(){var t=+new Date;t-r<n||(r=t,e.apply(i,arguments))}},o.resize=function(t,e){return window.onresize=function(){window.clearTimeout(e),e=window.setTimeout(t,200)},t},o.trigger=function(t,e,n){var i,n={detail:n||{},bubbles:!0,cancelable:!0};window.CustomEvent?i=new CustomEvent(e,n):(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(i)},o.context=function(t,e){return t=function(t){if(s(t))return t===i?n.body:t===r?n:n.querySelector(t);if(a(t,r))return n;var e=t instanceof window.jQuery;return t&&e?t[0]:t}(t=t||n)||n,e&&(a(t,e)||a(e,i)||a(e,r))&&(t=n),(e=t)&&(e.querySelector||-1!==[1,9,11].indexOf(!!e&&e.nodeType))&&t.children&&t.children.length?t:-1!==[9,11].indexOf(!!(e=t)&&e.nodeType)?t:n},o});
